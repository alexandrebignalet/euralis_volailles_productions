<form name="productionForm" ng-submit="vm.onSubmit()">
    <div class="modal-header">
        <h3 class="modal-title" ng-if="vm.currentState.indexOf('create') != -1">Création d'une nouvelle production.</h3>
        <h3 class="modal-title" ng-if="vm.currentState.indexOf('edit') != -1">Modification d'une production existante.</h3>
        <h3 class="modal-title" ng-if="vm.currentState.indexOf('remove') != -1">Suppression d'une production.</h3>
    </div>
    <div class="modal-body" ng-if="vm.currentState.indexOf('remove') == -1">
        <div class="row">
            <h2 class="text-center">Production</h2><hr>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="name" class="control-label">Appellation</label>
                    <input type="text" class="form-control" id="name" name="name" ng-model="vm.production.name" required>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="facility_type" class="control-label">Type de bâtiment</label>
                    <select class="form-control" id="facility_type" ng-model="vm.production.facility.type">
                        <option ng-repeat="batimentType in vm.batimentTypes" ng-value="batimentType">{{batimentType | uppercase}}</option>
                    </select>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="facility_size" class="control-label">Taille des bâtiments</label>
                    <input type="number" step="any" class="form-control" id="facility_size" name="facility_size" ng-model="vm.production.facility.size" min="0" required>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <label for="department" class="control-label">Département</label>
                    <select class="form-control" id="department" ng-model="vm.production.department">
                        <option ng-repeat="department in vm.departments" ng-value="department">{{department}}</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="chickNb" class="control-label">Nombre de poussins</label>
                    <input type="number" step="any" class="form-control" id="chickNb" name="chickNb" ng-model="vm.production.chickNb" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="avgWeight" class="control-label">Poids moyen</label>
                    <input type="number" step="any" class="form-control" id="avgWeight" name="avgWeight" ng-model="vm.production.avgWeight" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="age" class="control-label">Age</label>
                    <input type="number" step="any" class="form-control" id="age" name="age" ng-model="vm.production.age" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="breedingPerYear" class="control-label">Nombre de bandes par an</label>
                    <input type="number" step="any" class="form-control" id="breedingPerYear" name="breedingPerYear" ng-model="vm.production.breedingPerYear" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="consumptionIndex" class="control-label">Indice de consommation</label>
                    <input type="number" step="any" class="form-control" id="consumptionIndex" name="consumptionIndex" ng-model="vm.production.consumptionIndex" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="mortalityPercent" class="control-label">Taux de mortalité</label>
                    <input type="number" step="any" class="form-control" id="mortalityPercent" name="mortalityPercent" ng-model="vm.production.mortalityPercent" min="0" max="20" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="vaccinesPrice" class="control-label">Prix des vaccins</label>
                    <input type="number" step="any" class="form-control" id="vaccinesPrice" name="vaccinesPrice" ng-model="vm.production.vaccinesPrice" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="foodPrice" class="control-label">Prix de l'aliment</label>
                    <input type="number" step="any" class="form-control" id="foodPrice" name="foodPrice" ng-model="vm.production.foodPrice" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="classedPrice" class="control-label">Prix du classé</label>
                    <input type="number" step="any" class="form-control" id="classedPrice" name="classedPrice" ng-model="vm.production.classedPrice" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="declassedPrice" class="control-label">Prix du déclassé</label>
                    <input type="number" step="any" class="form-control" id="declassedPrice" name="declassedPrice" ng-model="vm.production.declassedPrice" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="breedingDeclassedPercent" class="control-label">Taux de déclassé</label>
                    <input type="number" step="any" class="form-control" id="breedingDeclassedPercent" name="breedingDeclassedPercent" ng-model="vm.production.breedingDeclassedPercent" min="0" max="20" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="restraintPercent" class="control-label">Taux de saisie</label>
                    <input type="number" step="any" class="form-control" id="restraintPercent" name="restraintPercent" ng-model="vm.production.restraintPercent" min="0" max="20" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="chickPurchaseReduction" class="control-label">Pourcentage de réduction à l'achat de poussins</label>
                    <input type="number" step="any" class="form-control" id="chickPurchaseReduction" name="chickPurchaseReduction" ng-model="vm.production.chickPurchaseReduction" min="0" max="20" required>
                </div>
            </div>
        </div>
        <div class="row">
            <h2 class="text-center">Charges par poussin</h2><hr>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="charges_warming" class="control-label">Chauffage</label>
                    <input type="number" step="any" class="form-control" id="charges_warming" name="charges_warming" ng-model="vm.production.facility.facilityCharges.warming" min="0" required>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="charges_chickPrice" class="control-label">Prix du poussin</label>
                    <input type="number" step="any" class="form-control" id="charges_chickPrice" name="charges_chickPrice" ng-model="vm.production.facility.facilityCharges.chickPrice" min="0" required>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="charges_vetPrice" class="control-label">Prix des soins</label>
                    <input type="number" step="any" class="form-control" id="charges_vetPrice" name="charges_vetPrice" ng-model="vm.production.facility.facilityCharges.vetPrice" min="0" required>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="charges_contributions" class="control-label">Cotisations</label>
                    <input type="number" step="any" class="form-control" id="charges_contributions" name="charges_contributions" ng-model="vm.production.facility.facilityCharges.contributions" min="0" required>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="charges_disinfection" class="control-label">Désinfection</label>
                    <input type="number" step="any" class="form-control" id="charges_disinfection" name="charges_disinfection" ng-model="vm.production.facility.facilityCharges.disinfection" min="0" required>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <label for="charges_litter" class="control-label">Prix litière</label>
                    <input type="number" step="any" class="form-control" id="charges_litter" name="charges_litter" ng-model="vm.production.facility.facilityCharges.litter" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="charges_commodities" class="control-label">Prix eau, électricité et divers</label>
                    <input type="number" step="any" class="form-control" id="charges_commodities" name="charges_commodities" ng-model="vm.production.facility.facilityCharges.commodities" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="charges_catching" class="control-label">Prix de l'attrapage</label>
                    <input type="number" step="any" class="form-control" id="charges_catching" name="charges_catching" ng-model="vm.production.facility.facilityCharges.catching" min="0" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="charges_insurances" class="control-label">Prix des assurances</label>
                    <input type="number" step="any" class="form-control" id="charges_insurances" name="charges_insurances" ng-model="vm.production.facility.facilityCharges.insurances" min="0" required>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-body" ng-if="vm.currentState.indexOf('remove') != -1">
        Confirmer la suppression de la production {{production.name}}
    </div>

    <div class="modal-footer">
        <button class="btn btn-default" type="button" ng-click="vm.modalInstance.close()">Annuler</button>
        <button class="btn btn-primary" type="submit" ng-if="vm.currentState.indexOf('create') != -1" ng-disabled="vm.isSaving">Créer</button>
        <button class="btn btn-success" type="submit" ng-if="vm.currentState.indexOf('edit') != -1" ng-disabled="vm.isSaving">Modifier</button>
        <button class="btn btn-danger" type="submit" ng-if="vm.currentState.indexOf('remove') != -1" ng-disabled="vm.isSaving">Supprimer</button>
    </div>
</form>